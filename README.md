‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
üõú –ê–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Wi-Fi: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–æ–∑–¥–∞–µ—Ç —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ (Captive Portal).

üîç –ê–≤—Ç–æ–¥–∏—Å–∫–∞–≤–µ—Ä–∏: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ —á–µ—Ä–µ–∑ MQTT.

üìü –ì–æ—Ç–æ–≤—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (http://[IP-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞]).

üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ EEPROM –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.

üéõÔ∏è –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –ï–¥–∏–Ω—ã–π API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ç–∞–Ω–∏–µ–º, —è—Ä–∫–æ—Å—Ç—å—é, —Ü–≤–µ—Ç–æ–º, —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

üîå –®–∏—Ä–æ–∫–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö IoT-–ø–ª–∞—Ç—Ñ–æ—Ä–º –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ (FastLED, DallasTemperature –∏ –¥—Ä.).

üì¶ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Wi-Fi –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å–æ —Å—Ä–µ–¥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Arduino.

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞	–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä	–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø–ª–∞—Ç–∞	–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
ESP8266	Single-core LX106, 80 –ú–ì—Ü	NodeMCU, Wemos D1 Mini	–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—Ä–µ–ª–µ, –ø—Ä–æ—Å—Ç—ã–µ –¥–∞—Ç—á–∏–∫–∏).
ESP32	Dual-core LX6, –¥–æ 240 –ú–ì—Ü	ESP32 DevKit, NodeMCU-32S	–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ (LED –º–∞—Ç—Ä–∏—Ü—ã, –º—É–ª—å—Ç–∏—Å–µ–Ω—Å–æ—Ä—ã).
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –î–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤—ã–±–∏—Ä–∞–π—Ç–µ ESP32 –∏–∑-–∑–∞ –±–æ–ª—å—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ GPIO –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Bluetooth.

‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–ß–µ—Ä–µ–∑ Arduino IDE (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö)
–°–∫–∞—á–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–ª–∏–∑ SmartickSDK.zip —Å GitHub.

–í Arduino IDE: –°–∫–µ—Ç—á ‚Üí –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É ‚Üí –î–æ–±–∞–≤–∏—Ç—å .ZIP –±–∏–±–ª–∏–æ—Ç–µ–∫—É...

–í—ã–±–µ—Ä–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª.

–ß–µ—Ä–µ–∑ PlatformIO
–î–æ–±–∞–≤—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ —Ñ–∞–π–ª platformio.ini –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

ini
lib_deps = https://github.com/yourusername/SmartickSDK.git
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Arduino Library Manager:

WiFiManager –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Wi-Fi

PubSubClient –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MQTT

ArduinoJson –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥

FastLED (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è LED-—É—Å—Ç—Ä–æ–π—Å—Ç–≤)

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–∑–∞ 5 –º–∏–Ω—É—Ç)
–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å –∫–Ω–æ–ø–∫–æ–π –∏ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–º, —É–ø—Ä–∞–≤–ª—è–µ–º–æ–µ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
text
ESP8266/ESP32           –ö–Ω–æ–ø–∫–∞           –°–≤–µ—Ç–æ–¥–∏–æ–¥
     GPIO0 (D3) --------| |--------
     GPIO2 (D4) -------------------[LED]---||--- GND
                        GND               220 –û–º
2. –ö–æ–¥ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (BasicSwitch.ino)
cpp
#include <SmartickSDK.h>

// –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
SmartickDevice mySwitch("SmartSwitch", "BasicV1");

void handleCommand(const String& cmd, const JsonDocument& data) {
  if (cmd == "power") {
    bool state = data["value"];
    digitalWrite(2, state ? HIGH : LOW); // –£–ø—Ä–∞–≤–ª—è–µ–º —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–º –Ω–∞ –ø–∏–Ω–µ 2
    Serial.println(state ? "–í–∫–ª—é—á–µ–Ω–æ" : "–í—ã–∫–ª—é—á–µ–Ω–æ");
  }
}

void setup() {
  Serial.begin(115200);
  pinMode(2, OUTPUT);
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–æ–º–∞–Ω–¥ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  mySwitch.setCommandHandler(handleCommand);
  
  // –ó–∞–ø—É—Å–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (WiFi, MQTT, –≤–µ–±-—Å–µ—Ä–≤–µ—Ä)
  mySwitch.begin();
  
  Serial.println("–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∑–∞–ø—É—â–µ–Ω–æ!");
}

void loop() {
  mySwitch.loop(); // –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
  
  // –ß—Ç–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ (–ø–∏–Ω 0) –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  if (digitalRead(0) == LOW) {
    delay(50); // –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—Ä–µ–±–µ–∑–≥–∞
    bool newState = !digitalRead(2);
    digitalWrite(2, newState);
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    mySwitch.sendDeviceState();
  }
}
3. –ü–æ—Ä—è–¥–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
–ü—Ä–æ—à–∏–≤–∫–∞: –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫–µ—Ç—á –≤ –ø–ª–∞—Ç—É.

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Wi-Fi: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Ç–æ—á–∫–µ –¥–æ—Å—Ç—É–ø–∞ Smartick-Config, –æ—Ç–∫—Ä–æ–π—Ç–µ 192.168.4.1, –≤–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤–∞—à–µ–π Wi-Fi —Å–µ—Ç–∏.

–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ: –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ MySmartikHome, –Ω–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ" ‚Äî –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ.

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞.

üß© –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–£–º–Ω–∞—è RGB-–ª–∞–º–ø–∞ (–Ω–∞ –±–∞–∑–µ LED-–º–∞—Ç—Ä–∏—Ü—ã)
–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –≤ examples/SmartLamp/. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –∫–ª–∞—Å—Å SmartLEDMatrix —Å 20+ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ ("–û–≥–æ–Ω—å", "–†–∞–¥—É–≥–∞", "–°–Ω–µ–≥–æ–ø–∞–¥" –∏ –¥—Ä.).

–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è—Ä–∫–æ—Å—Ç—å—é –∏ —Ü–≤–µ—Ç–æ–º —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–±–æ—Ä —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∫–Ω–æ–ø–∫–æ–π –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ú—É–ª—å—Ç–∏—Å–µ–Ω—Å–æ—Ä –¥–ª—è —É–º–Ω–æ–≥–æ –¥–æ–º–∞
–ü—Ä–∏–º–µ—Ä –≤ examples/SensorDevice/ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å –¥–∞—Ç—á–∏–∫–∞–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∏ –æ—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç–∏.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –Ω–∞ MQTT-–±—Ä–æ–∫–µ—Ä

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏–∑–º–µ—Ä–µ–Ω–∏–π

–ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

üì° –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª
–°–µ—Ç–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

[–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ Smartick] <----WiFi----> [–†–æ—É—Ç–µ—Ä] <----MQTT----> [–û–±–ª–∞—á–Ω—ã–π –±—Ä–æ–∫er]
        |                                    |
    [–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å]                  [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ MySmartikHome]
–ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º–µ–Ω–∞ (MQTT)
–¢–æ–ø–∏–∫	–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ	–û–ø–∏—Å–∞–Ω–∏–µ	–ü—Ä–∏–º–µ—Ä
smartick/[ID]/info	–£—Å—Ç—Ä. ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ	–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ	{"id":"SMARTICK-ABC123", "name":"–õ–∞–º–ø–∞", "type":"SmartLamp"}
smartick/[ID]/cmd	–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –£—Å—Ç—Ä.	–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è	{"cmd":"power", "value":true}
smartick/[ID]/state	–£—Å—Ç—Ä. ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ	–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ	{"power":true, "brightness":80, "color":"#FF5500"}
smartick/discovery	–£—Å—Ç—Ä. ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ	–®–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω–æ–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ	"SMARTICK-ABC123"
smartick/all/cmd	–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –í—Å–µ	–ö–æ–º–∞–Ω–¥–∞ –≤—Å–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º	{"cmd":"discover"}
–§–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥—ã:

json
{
  "cmd": "–∫–æ–º–∞–Ω–¥–∞",
  "value": "–∑–Ω–∞—á–µ–Ω–∏–µ",
  "param1": "–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π_–ø–∞—Ä–∞–º–µ—Ç—Ä"
}

<h2>üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API</h2>
–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å SmartickDevice
–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

cpp
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
void begin();
void loop();

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
void setPower(bool state);
void setBrightness(uint8_t brightness); // 0-100%
void setColor(uint32_t hexColor); // 0xRRGGBB
void setSpeed(uint8_t speed); // 0-100%

// –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
void sendDeviceInfo();
void sendDeviceState();
void sendCustomData(const String& topic, const JsonDocument& data);
void sendDiscovery(); // –î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏
void setDeviceName(const String& name);
void setMQTTConfig(const String& server, int port=1883, 
                   const String& user="", const String& pass="");
Callback-—Ñ—É–Ω–∫—Ü–∏–∏ (–¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è):

cpp
// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
virtual void onCommand(const String& cmd, const JsonDocument& data);

// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ MQTT
virtual void onConnect();

// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
virtual void onDisconnect();

// –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ EEPROM
virtual void saveCustomSettings(JsonDocument& doc);
virtual void loadCustomSettings(JsonDocument& doc);
ü§ù –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è SDK:

–ö–æ–º–∞–Ω–¥–∞	–ü–∞—Ä–∞–º–µ—Ç—Ä—ã	–î–µ–π—Å—Ç–≤–∏–µ
power	"value": bool	–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
brightness	"value": 0-100	–ò–∑–º–µ–Ω–∏—Ç—å —è—Ä–∫–æ—Å—Ç—å
color	"r", "g", "b": 0-255	–ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç
effect	"value": 0-N	–í—ã–±—Ä–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç (–¥–ª—è –ª–∞–º–ø)
speed	"value": 0-100	–ò–∑–º–µ–Ω–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∞
getInfo	‚Äî	–ó–∞–ø—Ä–æ—Å–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
getState	‚Äî	–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
discover	‚Äî	–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥
–î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –º–µ—Ç–æ–¥ onCommand:

cpp
void onCommand(const String& cmd, const JsonDocument& data) override {
  SmartickDevice::onCommand(cmd, data); // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
  
  if (cmd == "customMode") {
    bool enabled = data["enabled"];
    int mode = data["mode"];
    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ª–æ–≥–∏–∫–∞
  }
}
üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ SDK
–°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
cpp
#include <SmartickSDK.h>

class MyThermostat : public SmartickDevice {
private:
    float targetTemp;
    float currentTemp;
    
public:
    MyThermostat() : SmartickDevice("SmartThermostat", "ModelT1") {}
    
    void begin() override {
        SmartickDevice::begin();
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç—á–∏–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
    }
    
    void loop() override {
        SmartickDevice::loop();
        // –õ–æ–≥–∏–∫–∞ —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç–∞
        checkTemperature();
    }
    
protected:
    void onCommand(const String& cmd, const JsonDocument& data) override {
        if (cmd == "setTemperature") {
            targetTemp = data["value"];
            saveSettings(); // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        }
    }
    
    void createCustomState(JsonDocument& doc) override {
        doc["targetTemp"] = targetTemp;
        doc["currentTemp"] = currentTemp;
    }
};
üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–î–∞–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –í—ã –º–æ–∂–µ—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å –∫–æ–¥ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞.


–†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ, –ø—É–±–ª–∏–∫–∞—Ü–∏—è, 
—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ, —Å—É–±–ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∏/–∏–ª–∏ –ø—Ä–æ–¥–∞–∂–∞ –∫–æ–ø–∏–π –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è.


–ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è <a href="https://www.arduino.cc/reference/en/">Arduino</a>

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ <a href="https://www.espressif.com/en/support/documents/technical-documents">ESP8266/ESP32</a>


Smartick SDK —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤–∞—à–∏ –∏–¥–µ–∏ –≤ —Ä–µ–∞–ª—å–Ω—ã–µ IoT-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∑–∞ —Å—á–∏—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ, —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ, –≤–¥–æ—Ö–Ω–æ–≤–ª—è–π—Ç–µ—Å—å! üöÄ
